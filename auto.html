<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bean Clicker - Auto</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <a class="tab active" href="auto.html">Auto</a>
            <a class="tab" href="click.html">Click</a>
            <a class="tab" href="instant.html">Instant</a>
            <a class="tab" href="multiplier.html">Multiplier</a>
            <a class="tab" href="special.html">Special</a>
        </div>
        <div class="main">
            <div class="header">Bean Clicker - Auto</div>
            <div class="score" id="score">Beans: 0</div>
            <div class="bean" id="bean"></div>
            <div id="upgrades"></div>
            <div style="margin-bottom: 30px;">
                <button class="upgrade" id="prestige">Prestige (Cost: 5000)</button>
                <button class="upgrade" id="resetGame">Reset Game</button>
            </div>
        </div>
    </div>
    <script>
    // Only auto upgrades
    let beans = 20;
    let beansPerClick = 1;
    let beansPerClickMultiplier = 1;
    let autoClickers = 0;
    let autoClickerSpeed = 1000;
    const scoreEl = document.getElementById('score');
    const beanEl = document.getElementById('bean');
    const upgradesDiv = document.getElementById('upgrades');
    const prestigeBtn = document.getElementById('prestige');
    const resetGameBtn = document.getElementById('resetGame');
    let upgrades = [
        { name: "Auto Clicker", baseCost: 10, cost: 10, effect: () => { autoClickers += 1; }, desc: "+1 Auto Clicker", max: 10, scale: 1.12 },
        { name: "Faster Auto Clicker", baseCost: 30, cost: 30, effect: () => { autoClickerSpeed = Math.max(250, autoClickerSpeed - 100); }, desc: "Auto Clickers click faster", max: 5, scale: 1.15 },
        { name: "Bean Factory", baseCost: 100, cost: 100, effect: () => { autoClickers += 5; }, desc: "+5 Auto Clickers", max: 2, scale: 1.2 },
        { name: "Bean Machine", baseCost: 500, cost: 500, effect: () => { autoClickers += 20; }, desc: "+20 Auto Clickers", max: 1, scale: 1.3 },
        { name: "Bean Accelerator", baseCost: 200, cost: 200, effect: () => { autoClickerSpeed = Math.max(50, autoClickerSpeed - 100); }, desc: "Auto Clickers click even faster", max: 5, scale: 1.15 },
        { name: "Bean Overdrive", baseCost: 1000, cost: 1000, effect: () => { autoClickers += 100; }, desc: "+100 Auto Clickers", max: 1, scale: 1.4 },
        { name: "Bean Finality", baseCost: 5000, cost: 5000, effect: () => { autoClickers += 1000; }, desc: "+1,000 Auto Clickers", max: 1, scale: 1.5 }
    ];
    let upgradeCounts = Array(upgrades.length).fill(0);
    let autoClickerInterval = null;

    function updateScore() {
        scoreEl.textContent = `Beans: ${beans}`;
    }

    function updateUpgrades() {
        upgradesDiv.innerHTML = "";
        upgrades.forEach((upg, i) => {
            const btn = document.createElement("button");
            btn.className = "upgrade";
            btn.id = `upgrade${i}`;
            btn.textContent = `${upg.name} (${upg.desc}) [${upgradeCounts[i]}/${upg.max}] - Cost: ${Math.floor(upg.cost)}`;
            // Always enabled visually, but check in click handler
            if (upgradeCounts[i] >= upg.max) btn.disabled = true;
            btn.onclick = () => {
                if (beans < upg.cost) {
                    alert('Not enough beans!');
                    return;
                }
                if (upgradeCounts[i] >= upg.max) return;
                beans -= upg.cost;
                upg.effect();
                upgradeCounts[i]++;
                upg.cost = upg.baseCost * Math.pow(upg.scale, upgradeCounts[i]);
                updateScore();
                updateUpgrades();
                restartAutoClicker();
            };
            upgradesDiv.appendChild(btn);
        });
    }

    // Hide upgrades initially
    upgradesDiv.style.display = "none";

    // Show upgrades when bean is clicked
    beanEl.addEventListener('click', () => {
        beans += beansPerClick * beansPerClickMultiplier;
        updateScore();
        upgradesDiv.style.display = "flex";
        updateUpgrades();
    });

    beanEl.addEventListener('click', () => {
        beans += beansPerClick * beansPerClickMultiplier;
        updateScore();
        updateUpgrades();
    });

    function restartAutoClicker() {
        if (autoClickerInterval) clearInterval(autoClickerInterval);
        if (autoClickers > 0) {
            autoClickerInterval = setInterval(() => {
                beans += autoClickers * beansPerClick * beansPerClickMultiplier;
                updateScore();
                updateUpgrades();
            }, autoClickerSpeed);
        }
    }

    prestigeBtn.addEventListener('click', () => {
        if (beans >= 5000) {
            beans = 0;
            beansPerClickMultiplier++;
            beansPerClick = 1;
            autoClickers = 0;
            autoClickerSpeed = 1000;
            upgradeCounts = Array(upgrades.length).fill(0);
            restartAutoClicker();
            prestigeBtn.textContent = `Prestige (Cost: 5000) [x${beansPerClickMultiplier}]`;
            updateScore();
            updateUpgrades();
        }
    });

    resetGameBtn.addEventListener('click', () => {
        beans = 0;
        beansPerClick = 1;
        beansPerClickMultiplier = 1;
        autoClickers = 0;
        autoClickerSpeed = 1000;
        upgradeCounts = Array(upgrades.length).fill(0);
        restartAutoClicker();
        prestigeBtn.textContent = `Prestige (Cost: 5000)`;
        updateScore();
        updateUpgrades();
    });

    updateScore();
    updateUpgrades();
    </script>
</body>
</html>
